{"version":3,"file":"commonHelpers3.js","sources":["../src/js/header.js"],"sourcesContent":["const refs = {\n  header: document.querySelector('.header'),\n  openMenuBtn: document.querySelector('.open-menu-btn'),\n  closeMenuBtn: document.querySelector('.close-menu-btn'),\n  menu: document.querySelector('.header-menu'),\n  links: document.querySelectorAll('.header-nav-link'),\n  navItems: document.querySelectorAll('.header-nav-item'),\n};\nlet lastScrollTop = 0;\n\nconst openMenu = () => {\n  refs.menu.classList.add('header-menu-open');\n  document.body.classList.add('menu-open');\n  document.addEventListener('click', handleOutsideClick);\n};\n\nconst closeMenu = () => {\n  refs.menu.classList.remove('header-menu-open');\n  document.body.classList.remove('menu-open');\n  document.removeEventListener('click', handleOutsideClick);\n};\n\nconst handleOutsideClick = event => {\n  const isClickInsideMenu =\n    refs.menu.contains(event.target) || refs.openMenuBtn.contains(event.target);\n\n  if (!isClickInsideMenu) {\n    closeMenu();\n  }\n};\n\nrefs.openMenuBtn.addEventListener('click', openMenu);\n\nrefs.closeMenuBtn.addEventListener('click', closeMenu);\n\nrefs.links.forEach(link => {\n  link.addEventListener('click', closeMenu);\n});\n\nfunction setActiveLink() {\n  let scrollPosition = window.scrollY;\n\n  refs.navItems.forEach(item => {\n    const targetSection = document.querySelector(\n      item.querySelector('a').getAttribute('href')\n    );\n\n    if (\n      targetSection.offsetTop <= scrollPosition &&\n      targetSection.offsetTop + targetSection.offsetHeight > scrollPosition\n    ) {\n      item.classList.add('header-nav-item-active');\n    } else {\n      item.classList.remove('header-nav-item-active');\n    }\n  });\n}\n\nwindow.addEventListener('scroll', () => {\n  setActiveLink();\n\n  const scrollTop = window.scrollY;\n  if (scrollTop > lastScrollTop) {\n    refs.header.classList.add('header-hidden');\n  } else {\n    refs.header.classList.remove('header-hidden');\n  }\n\n  lastScrollTop = scrollTop;\n});\n\nsetActiveLink();\n"],"names":["refs","lastScrollTop","openMenu","handleOutsideClick","closeMenu","event","link","setActiveLink","scrollPosition","item","targetSection","scrollTop"],"mappings":"ssBAAA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,SAAS,EACxC,YAAa,SAAS,cAAc,gBAAgB,EACpD,aAAc,SAAS,cAAc,iBAAiB,EACtD,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,iBAAiB,kBAAkB,EACnD,SAAU,SAAS,iBAAiB,kBAAkB,CACxD,EACA,IAAIC,EAAgB,EAEpB,MAAMC,EAAW,IAAM,CACrBF,EAAK,KAAK,UAAU,IAAI,kBAAkB,EAC1C,SAAS,KAAK,UAAU,IAAI,WAAW,EACvC,SAAS,iBAAiB,QAASG,CAAkB,CACvD,EAEMC,EAAY,IAAM,CACtBJ,EAAK,KAAK,UAAU,OAAO,kBAAkB,EAC7C,SAAS,KAAK,UAAU,OAAO,WAAW,EAC1C,SAAS,oBAAoB,QAASG,CAAkB,CAC1D,EAEMA,EAAqBE,GAAS,CAEhCL,EAAK,KAAK,SAASK,EAAM,MAAM,GAAKL,EAAK,YAAY,SAASK,EAAM,MAAM,GAG1ED,GAEJ,EAEAJ,EAAK,YAAY,iBAAiB,QAASE,CAAQ,EAEnDF,EAAK,aAAa,iBAAiB,QAASI,CAAS,EAErDJ,EAAK,MAAM,QAAQM,GAAQ,CACzBA,EAAK,iBAAiB,QAASF,CAAS,CAC1C,CAAC,EAED,SAASG,GAAgB,CACvB,IAAIC,EAAiB,OAAO,QAE5BR,EAAK,SAAS,QAAQS,GAAQ,CAC5B,MAAMC,EAAgB,SAAS,cAC7BD,EAAK,cAAc,GAAG,EAAE,aAAa,MAAM,CACjD,EAGMC,EAAc,WAAaF,GAC3BE,EAAc,UAAYA,EAAc,aAAeF,EAEvDC,EAAK,UAAU,IAAI,wBAAwB,EAE3CA,EAAK,UAAU,OAAO,wBAAwB,CAEpD,CAAG,CACH,CAEA,OAAO,iBAAiB,SAAU,IAAM,CACtCF,IAEA,MAAMI,EAAY,OAAO,QACrBA,EAAYV,EACdD,EAAK,OAAO,UAAU,IAAI,eAAe,EAEzCA,EAAK,OAAO,UAAU,OAAO,eAAe,EAG9CC,EAAgBU,CAClB,CAAC,EAEDJ,EAAe"}